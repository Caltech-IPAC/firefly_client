
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Displaying FITS Images &#8212; firefly_client  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'usage/displaying-images';</script>
    <script src="../_static/custom-icon.js?v=a18babe4"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Displaying 3-Color FITS Images" href="displaying-3color.html" />
    <link rel="prev" title="Initializing a FireflyClient instance" href="initializing-vanilla.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="Jan 15, 2026"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">firefly_client  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../development/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference.html">
    API
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Caltech-IPAC/firefly_client" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/firefly-client" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../development/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference.html">
    API
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Caltech-IPAC/firefly_client" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/firefly-client" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-custom fa-pypi fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="initializing-vanilla.html">Initializing a FireflyClient instance</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Displaying FITS Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying-3color.html">Displaying 3-Color FITS Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaying-hips.html">Displaying HiPS Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="overlaying-regions.html">Visualizing Regions on Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewing-tables.html">Displaying Tables and Catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="charting.html">Visualizing tables as Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="callbacks-extensions.html">Advanced: Callbacks and Extensions</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="demo-notebooks.html">Demo Notebooks</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/reference-guide.html">Reference Guide to Firefly Python Client API</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-3color.html">Show a 3 color image</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-HiPS.html">Show HiPS Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-basic.html">Basic API Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-multiple-table.html">Show a file containing multiple tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-overlay-footprint.html">Overlay a footprint on image</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-region.html">Add region data to image</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-simple-callback-in-jupyter.html">Extensions and Callback</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/demo-simple-callback-in-terminal.html">Extensions and Callback via Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/plot-interface.html">Plot interface: <code class="docutils literal notranslate"><span class="pre">firefly_client.plot</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/filetable.html">Load files as a table of data products</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/multi-moc.html">Load multiple MOCs</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Using firefly_client</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Displaying FITS Images</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <!--
NOTE: Cells below are intentionally copied from `examples/reference-guide.ipynb` so the usage docs and reference guide stay in sync.
--><section id="Displaying-FITS-Images">
<h1>Displaying FITS Images<a class="headerlink" href="#Displaying-FITS-Images" title="Link to this heading">#</a></h1>
<p>This notebook shows how to display FITS images in Firefly and how to modify the image display (pan/zoom/stretch/align).</p>
<section id="Setup">
<h2>Setup<a class="headerlink" href="#Setup" title="Link to this heading">#</a></h2>
<p>First, we create a <code class="docutils literal notranslate"><span class="pre">FireflyClient</span></code> instance and open a Firefly viewer. See <a class="reference external" href="./initializing-vanilla.html">Initializing a FireflyClient instance</a> for more details.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from firefly_client import FireflyClient

# Following imports are just for example data fetching and processing (not needed always)
from astropy.utils.data import download_file
from astropy.io import fits
from astropy.convolution import convolve, Gaussian2DKernel
import io

# Initialize a FireflyClient instance
fc = FireflyClient.make_client(url=&quot;https://irsa.ipac.caltech.edu/irsaviewer&quot;)
</pre></div>
</div>
</div>
</section>
<section id="Show-FITS-Image-in-Firefly">
<h2>Show FITS Image in Firefly<a class="headerlink" href="#Show-FITS-Image-in-Firefly" title="Link to this heading">#</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">show_fits_image</span></code> method of the FireflyClient object to display a FITS image. It can take a local file path, URL, or a file-like object as input via the <code class="docutils literal notranslate"><span class="pre">file_input</span></code> parameter.</p>
<p>It is recommended to explicitly specify the <code class="docutils literal notranslate"><span class="pre">plot_id</span></code> parameter for later use in modifying the image display.</p>
<section id="From-a-URL">
<h3>From a URL<a class="headerlink" href="#From-a-URL" title="Link to this heading">#</a></h3>
<p>You can specify url of any FITS image. Here we use cutout of a WISE all-sky image of M51 galaxy in W2 band:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>cutout_image_url = &#39;https://irsa.ipac.caltech.edu/ibe/data/wise/allsky/4band_p1bm_frm/9a/05379a/141/05379a141-w2-int-1b.fits?center=202.4841667,47.23055556&amp;size=400pix&#39;
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>cutout_image_plot_id = &#39;wise-cutout&#39;
fc.show_fits_image(file_input=cutout_image_url,
                   plot_id=cutout_image_plot_id,
                   title=&#39;WISE Cutout&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
<section id="From-a-local-file">
<h3>From a local file<a class="headerlink" href="#From-a-local-file" title="Link to this heading">#</a></h3>
<p>You can specify path of any local FITS file. Here we download the full WISE all-sky image of M51 in W2 and use its file path:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>full_image_url = &#39;https://irsa.ipac.caltech.edu/ibe/data/wise/allsky/4band_p1bm_frm/9a/05379a/141/05379a141-w2-int-1b.fits&#39;
full_image_fpath = download_file(full_image_url, cache=True, timeout=120)
full_image_fpath
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;/Users/jsinghal/.astropy/cache/download/url/ef686a664b2c17e3d8590b511be8a400/contents&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>full_image_plot_id = &#39;wise-fullimage&#39;
fc.show_fits_image(file_input=full_image_fpath,
                   plot_id=full_image_plot_id, # using a different plot id to not overwrite previous plot
                   title=&#39;WISE Full Image&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
<section id="From-an-in-memory-file-like-object">
<h3>From an in-memory file-like object<a class="headerlink" href="#From-an-in-memory-file-like-object" title="Link to this heading">#</a></h3>
<p>You can also use a file-like object (e.g. <code class="docutils literal notranslate"><span class="pre">BytesIO</span></code> stream) instead of a local file path or URL. This is useful when you are working with a FITS file in memory and don’t want to write it to disk.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>processed_fits = io.BytesIO()

with fits.open(cutout_image_url) as hdul:
    # Do some processing on FITS image data (like simple Gaussian smoothing here)
    img_data = hdul[0].data
    gaussian_kernel = Gaussian2DKernel(x_stddev=2)
    img_data = convolve(img_data, gaussian_kernel)

    new_hdu = fits.PrimaryHDU(data=img_data, header=hdul[0].header)
    new_hdu.writeto(processed_fits, overwrite=True)
    processed_fits.seek(0) # to bring reading pointer to the beginning of file
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.show_fits_image(file_input=processed_fits,
                   plot_id=&#39;wise-processed&#39;,
                   title=&#39;Processed WISE Cutout&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
</section>
<section id="Modify-the-displayed-image(s)">
<h2>Modify the displayed image(s)<a class="headerlink" href="#Modify-the-displayed-image(s)" title="Link to this heading">#</a></h2>
<p>Zooming, panning, and changing the stretch is accomplished by following methods, passing in the <code class="docutils literal notranslate"><span class="pre">plot_id</span></code> as the first argument.</p>
<section id="Panning-to-a-coordinate">
<h3>Panning to a coordinate<a class="headerlink" href="#Panning-to-a-coordinate" title="Link to this heading">#</a></h3>
<p>To pan the full image to center on the M51 cutout’s center:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.set_pan(plot_id=full_image_plot_id, # note we use the plot id we defined above
           x=202.4841667, y=47.23055556, coord=&#39;j2000&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
<section id="Zooming">
<h3>Zooming<a class="headerlink" href="#Zooming" title="Link to this heading">#</a></h3>
<p>To zoom into the full image by a factor of 2:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.set_zoom(plot_id=full_image_plot_id, factor=2)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
<section id="Changing-the-color-stretch">
<h3>Changing the color stretch<a class="headerlink" href="#Changing-the-color-stretch" title="Link to this heading">#</a></h3>
<p>Set the stretch for the full image based on IRAF zscale interval with a linear algorithm:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.set_stretch(plot_id=full_image_plot_id, stype=&#39;zscale&#39;, algorithm=&#39;linear&#39;)

# Or for a log stretch with sigma limits:
# fc.set_stretch(plot_id=full_image_plot_id, stype=&#39;sigma&#39;, algorithm=&#39;log&#39;, lower_value=-2, upper_value=30)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True,
 &#39;rv_string&#39;: &#39;91,1.000000,91,1.000000,NaN,2.000000,44,25,600,120,0,NaN,1.000000&#39;}
</pre></div></div>
</div>
</section>
<section id="Aligning-multiple-images">
<h3>Aligning multiple images<a class="headerlink" href="#Aligning-multiple-images" title="Link to this heading">#</a></h3>
<p>You can align mutliple images covering the same sky location by target, WCS, pixels, etc. Optionally, you can also lock the alignment so that panning/zooming one image will pan/zoom the other images in sync.</p>
<p>To align both full image and cutout image by WCS and to lock the WCS matching:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.align_images(lock_match=True)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
</section>
<section id="Advanced-Usage-(Low-level,-Unstable-API)">
<h2>Advanced Usage (Low-level, Unstable API)<a class="headerlink" href="#Advanced-Usage-(Low-level,-Unstable-API)" title="Link to this heading">#</a></h2>
<p>In most cases, you do not need the low-level API to create or modify image displays, since the higher-level methods shown above cover common workflows and you can always directly use the UI controls in Firefly. For completeness, the sections below document low-level operations that may be useful to advanced users. Note that the low-level API is unstable and may change, so examples here might not work in all cases.</p>
<section id="Changing-the-color-map">
<h3>Changing the color map<a class="headerlink" href="#Changing-the-color-map" title="Link to this heading">#</a></h3>
<p>FireflyClient doesn’t provide a high-level method to change the color map but you can do so by using the lower-level API: dispatch the relevant JavaScript action with the required parameters in the payload.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.dispatch(action_type=&#39;ImagePlotCntlr.ColorChange&#39;,
            payload={
                &#39;plotId&#39;: full_image_plot_id,
                &#39;cbarId&#39;: 24 # veridis color map
                })
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
<section id="Specifying-Zoom-and-Stretch-Values-When-First-Displaying-an-Image">
<h3>Specifying Zoom and Stretch Values When First Displaying an Image<a class="headerlink" href="#Specifying-Zoom-and-Stretch-Values-When-First-Displaying-an-Image" title="Link to this heading">#</a></h3>
<p>It can be advantageous to specify the zoom, stretch, and color table parameters in the same command that displays the image, to avoid problems with the later commands being ignored when the image display has not completed.</p>
<p>To specify the stretch as part of the image display, you can generate a range values string. This example is for an asinh stretch with a Q value of 6 and an upper level of 98 percent:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from firefly_client import RangeValues
rvstring = RangeValues.create_rv_standard(algorithm=&#39;asinh&#39;,
                                          asinh_q_value=6,
                                          upper_value=98.0)
</pre></div>
</div>
</div>
<p>The zoom value can be specified in several different ways. When displaying images with different pixel scales, the best practice is to specify <code class="docutils literal notranslate"><span class="pre">ZoomType='ARCSEC_PER_SCREEN_PIX'</span></code> and then the numerical value, e.g. <code class="docutils literal notranslate"><span class="pre">ZoomArcsecPerScreenPix=0.3</span></code>.</p>
<p>These parameters use the key names defined in <a class="reference external" href="https://github.com/Caltech-IPAC/firefly/blob/dev/docs/fits-plotting-parameters.md">FITS Plotting Parameters</a> for the Firefly JavaScript. They can be passed to the <code class="docutils literal notranslate"><span class="pre">show_fits_image</span></code> method as additional keyword arguments:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.show_fits_image(file_input=cutout_image_url,
                   plot_id=cutout_image_plot_id, # same plot id to replace the previous image
                   title=&#39;WISE Cutout&#39;,
                   # additional keyword arguments
                   ColorTable=4,
                   ZoomType=&#39;ARCSEC_PER_SCREEN_PIX&#39;,
                   ZoomArcsecPerScreenPix=0.3,
                   RangeValues=rvstring
                   )
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
<section id="Retrieving-Images-Using-IRSA-Specific-Searches">
<h3>Retrieving Images Using IRSA-Specific Searches<a class="headerlink" href="#Retrieving-Images-Using-IRSA-Specific-Searches" title="Link to this heading">#</a></h3>
<p>Instead of providing FITS image file (as a local file path, URL, or file-like object), you can also retrieve images by utilizing Firefly’s image search processors that powers the IRSA archives.</p>
<p>A table of available projects for image searches is maintained in the Firefly code base. The information can be retrieved into an Astropy table:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from astropy.table import Table
surveys = Table.read(&#39;https://raw.githubusercontent.com/Caltech-IPAC/firefly/dev/src/firefly/java/edu/caltech/ipac/firefly/resources/irsa-image-master-table.csv&#39;,
                    format=&#39;csv&#39;)
</pre></div>
</div>
</div>
<p>To select images available for the WISE AllSky project:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>wise_surveys = surveys[surveys[&#39;missionId&#39;] == &#39;WISE&#39;]
wise_surveys[[&#39;AllSky&#39; in project for project in wise_surveys[&#39;project&#39;]]]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><i>Table length=4</i>
<table id="table4412039312" class="table-striped table-bordered table-condensed">
<thead><tr><th>missionId</th><th>project</th><th>subProject</th><th>surveyKey</th><th>acronym</th><th>wavebandId</th><th>imageId</th><th>title</th><th>wavelength</th><th>wavelengthDesc</th><th>waveType</th><th>projectTypeKey</th><th>projectTypeDesc</th><th>minRangeDeg</th><th>maxRangeDeg</th><th>helpUrl</th><th>tooltip</th><th>apiType</th><th>filter</th><th>dataType</th><th>defaultRgbColor</th></tr></thead>
<thead><tr><th>str8</th><th>str115</th><th>str8</th><th>str33</th><th>str25</th><th>str11</th><th>str2</th><th>str42</th><th>float64</th><th>str15</th><th>str7</th><th>str13</th><th>str13</th><th>float64</th><th>float64</th><th>str74</th><th>str46</th><th>str7</th><th>str80</th><th>str5</th><th>str5</th></tr></thead>
<tr><td>WISE</td><td>WISE  AllSky Atlas</td><td>--</td><td>1b</td><td>WISE AllSky W1</td><td>1</td><td>--</td><td>W1 (3.4 microns)</td><td>3.4</td><td>3.4 microns</td><td>mid-IR</td><td>all-sky</td><td>all-sky</td><td>0.01</td><td>0.2</td><td>https://irsa.ipac.caltech.edu/docs/irsaviewer_datasets.html#WISEAll-Sky</td><td>WISE AllSky SIngle Exposure W1 3.4 microns</td><td>WISE</td><td>--</td><td>image</td><td>--</td></tr>
<tr><td>WISE</td><td>WISE  AllSky Atlas</td><td>--</td><td>1b</td><td>WISE AllSky W2</td><td>2</td><td>--</td><td>W2 (4.6 microns)</td><td>4.6</td><td>4.6 microns</td><td>mid-IR</td><td>all-sky</td><td>all-sky</td><td>0.01</td><td>0.2</td><td>https://irsa.ipac.caltech.edu/docs/irsaviewer_datasets.html#WISEAll-Sky</td><td>WISE AllSky SIngle Exposure W2</td><td>WISE</td><td>--</td><td>image</td><td>--</td></tr>
<tr><td>WISE</td><td>WISE  AllSky Atlas</td><td>--</td><td>1b</td><td>WISE AllSky W3</td><td>3</td><td>--</td><td>W3 (12 microns)</td><td>12.0</td><td>12 microns</td><td>mid-IR</td><td>all-sky</td><td>all-sky</td><td>0.01</td><td>0.2</td><td>https://irsa.ipac.caltech.edu/docs/irsaviewer_datasets.html#WISEAll-Sky</td><td>WISE AllSky SIngle Exposure W3</td><td>WISE</td><td>--</td><td>image</td><td>--</td></tr>
<tr><td>WISE</td><td>WISE  AllSky Atlas</td><td>--</td><td>1b</td><td>WISE AllSky W4</td><td>4</td><td>--</td><td>W4 (22 microns)</td><td>22.0</td><td>22 microns</td><td>mid-IR</td><td>all-sky</td><td>all-sky</td><td>0.01</td><td>0.2</td><td>https://irsa.ipac.caltech.edu/docs/irsaviewer_datasets.html#WISEAll-Sky</td><td>WISE AllSky SIngle Exposure W4</td><td>WISE</td><td>--</td><td>image</td><td>--</td></tr>
</table></div></div>
</div>
<p>To search the WISE AllSky survey in W1 band:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>size_in_arcsec = 600
ra = 202.4841667
dec = 47.23055556
target = f&#39;{ra};{dec};EQ_J2000&#39;
fc.show_fits_image(plot_id=&#39;IRAC1&#39;,
                    Title=&#39;WISE AllSky W1 Search&#39;,
                    Type=&#39;SERVICE&#39;,
                    Service=&#39;WISE&#39;, # apiType
                    SurveyKey=&#39;1b&#39;, # surveyKey
                    SurveyKeyBand=&#39;1&#39;, # wavebandId
                    WorldPt=target,
                    SizeInDeg=size_in_arcsec/3600,
                    ColorTable=1,
                    ZoomType=&#39;ARCSEC_PER_SCREEN_PIX&#39;,
                    ZoomArcsecPerScreenPix=0.3,
                    RangeValues=rvstring)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
<p>Since we added additional images to the viewer, we re-align and lock them by WCS so panning/zooming stays in sync:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>fc.align_images(lock_match=True)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;success&#39;: True}
</pre></div></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="initializing-vanilla.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Initializing a FireflyClient instance</p>
      </div>
    </a>
    <a class="right-next"
       href="displaying-3color.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Displaying 3-Color FITS Images</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Setup">Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Show-FITS-Image-in-Firefly">Show FITS Image in Firefly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#From-a-URL">From a URL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#From-a-local-file">From a local file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#From-an-in-memory-file-like-object">From an in-memory file-like object</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Modify-the-displayed-image(s)">Modify the displayed image(s)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Panning-to-a-coordinate">Panning to a coordinate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Zooming">Zooming</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Changing-the-color-stretch">Changing the color stretch</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Aligning-multiple-images">Aligning multiple images</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Advanced-Usage-(Low-level,-Unstable-API)">Advanced Usage (Low-level, Unstable API)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Changing-the-color-map">Changing the color map</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Specifying-Zoom-and-Stretch-Values-When-First-Displaying-an-Image">Specifying Zoom and Stretch Values When First Displaying an Image</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Retrieving-Images-Using-IRSA-Specific-Searches">Retrieving Images Using IRSA-Specific Searches</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/usage/displaying-images.ipynb"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2026, Caltech/IPAC Firefly Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item"><p class="last-updated">
  Last updated on Jan 15, 2026.
  <br/>
</p></div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>